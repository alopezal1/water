--******备注：此文件中不需要commit;*****


--用户表
--ID:主键ID（自增），NAME:用户名，PASSWORD:用户密码(不加密，用于记录用户密码信息，方便下次登陆)，
--ISDEFAULT:登陆时是否是默认用户（1:为默认用户，0或者null：不是默认用户）
--EMAIL：用户邮箱地址
CREATE TABLE IF NOT EXISTS USER (
	ID INTEGER PRIMARY KEY AUTOINCREMENT, 
	NAME VARCHAR(20), PASSWORD VARCHAR(64), ISDEFAULT VARCHAR(1), 
	EMAIL VARCHAR(100)
);

--电网表
--ID:主键ID（自增）,NETNAME：电网名称，UPNETID:上级电网ID,
--NETLEVEL：电网层级，LOADWARNOFFSET：负荷监控偏差，USERNAME：关联的用户名
CREATE TABLE IF NOT EXISTS LF_CTRL_NET (
	ID INTEGER PRIMARY KEY AUTOINCREMENT, 
	NETID VARCHAR(20), NETNAME VARCHAR(30), UPNETID VARCHAR(20), 
	NETLEVEL INTEGER, LOADWARNOFFSET VARCHAR(100), USERNAME VARCHAR(20)
);

--口径表
--CALIBERID:主键ID,CALIBERNAME：口径名称，DESCRIBE:口径描述
CREATE TABLE IF NOT EXISTS LF_CTRL_CALIBER (
  CALIBERID   VARCHAR(10) not null,
  CALIBERNAME VARCHAR(30) not null,
  DESCRIBE    VARCHAR(100)
);

--负荷监控警报表
--ID:主键ID（自增），NETID:电网ID，MESSAGE:警报信息内容
CREATE TABLE IF NOT EXISTS LOAD_MONITOR_WARN (
	ID INTEGER PRIMARY KEY AUTOINCREMENT, 
	NETID VARCHAR(20), MESSAGE VARCHAR(30),
	WARNTIME VARCHAR(20),
	ISREAD VARCHAR(20)
);

--96点历史负荷表
--TOPENERGY:'高峰电量',BOTTOMENERGY :'低谷电量',MIDDLEENERGY:'腰荷电量',DAYENERGY:'日电量'
CREATE TABLE IF NOT EXISTS LF_HIS_96LC (
  NETID        VARCHAR(20) not null,
  CALIBERID    VARCHAR(10) not null,
  YMD          VARCHAR(8) not null,
  T0000        NUMERIC(15,4),
  T0015        NUMERIC(15,4),
  T0030        NUMERIC(15,4),
  T0045        NUMERIC(15,4),
  T0100        NUMERIC(15,4),
  T0115        NUMERIC(15,4),
  T0130        NUMERIC(15,4),
  T0145        NUMERIC(15,4),
  T0200        NUMERIC(15,4),
  T0215        NUMERIC(15,4),
  T0230        NUMERIC(15,4),
  T0245        NUMERIC(15,4),
  T0300        NUMERIC(15,4),
  T0315        NUMERIC(15,4),
  T0330        NUMERIC(15,4),
  T0345        NUMERIC(15,4),
  T0400        NUMERIC(15,4),
  T0415        NUMERIC(15,4),
  T0430        NUMERIC(15,4),
  T0445        NUMERIC(15,4),
  T0500        NUMERIC(15,4),
  T0515        NUMERIC(15,4),
  T0530        NUMERIC(15,4),
  T0545        NUMERIC(15,4),
  T0600        NUMERIC(15,4),
  T0615        NUMERIC(15,4),
  T0630        NUMERIC(15,4),
  T0645        NUMERIC(15,4),
  T0700        NUMERIC(15,4),
  T0715        NUMERIC(15,4),
  T0730        NUMERIC(15,4),
  T0745        NUMERIC(15,4),
  T0800        NUMERIC(15,4),
  T0815        NUMERIC(15,4),
  T0830        NUMERIC(15,4),
  T0845        NUMERIC(15,4),
  T0900        NUMERIC(15,4),
  T0915        NUMERIC(15,4),
  T0930        NUMERIC(15,4),
  T0945        NUMERIC(15,4),
  T1000        NUMERIC(15,4),
  T1015        NUMERIC(15,4),
  T1030        NUMERIC(15,4),
  T1045        NUMERIC(15,4),
  T1100        NUMERIC(15,4),
  T1115        NUMERIC(15,4),
  T1130        NUMERIC(15,4),
  T1145        NUMERIC(15,4),
  T1200        NUMERIC(15,4),
  T1215        NUMERIC(15,4),
  T1230        NUMERIC(15,4),
  T1245        NUMERIC(15,4),
  T1300        NUMERIC(15,4),
  T1315        NUMERIC(15,4),
  T1330        NUMERIC(15,4),
  T1345        NUMERIC(15,4),
  T1400        NUMERIC(15,4),
  T1415        NUMERIC(15,4),
  T1430        NUMERIC(15,4),
  T1445        NUMERIC(15,4),
  T1500        NUMERIC(15,4),
  T1515        NUMERIC(15,4),
  T1530        NUMERIC(15,4),
  T1545        NUMERIC(15,4),
  T1600        NUMERIC(15,4),
  T1615        NUMERIC(15,4),
  T1630        NUMERIC(15,4),
  T1645        NUMERIC(15,4),
  T1700        NUMERIC(15,4),
  T1715        NUMERIC(15,4),
  T1730        NUMERIC(15,4),
  T1745        NUMERIC(15,4),
  T1800        NUMERIC(15,4),
  T1815        NUMERIC(15,4),
  T1830        NUMERIC(15,4),
  T1845        NUMERIC(15,4),
  T1900        NUMERIC(15,4),
  T1915        NUMERIC(15,4),
  T1930        NUMERIC(15,4),
  T1945        NUMERIC(15,4),
  T2000        NUMERIC(15,4),
  T2015        NUMERIC(15,4),
  T2030        NUMERIC(15,4),
  T2045        NUMERIC(15,4),
  T2100        NUMERIC(15,4),
  T2115        NUMERIC(15,4),
  T2130        NUMERIC(15,4),
  T2145        NUMERIC(15,4),
  T2200        NUMERIC(15,4),
  T2215        NUMERIC(15,4),
  T2230        NUMERIC(15,4),
  T2245        NUMERIC(15,4),
  T2300        NUMERIC(15,4),
  T2315        NUMERIC(15,4),
  T2330        NUMERIC(15,4),
  T2345        NUMERIC(15,4),
  T2400        NUMERIC(15,4),
  TOPENERGY    NUMERIC(15,4),
  BOTTOMENERGY NUMERIC(15,4),
  MIDDLEENERGY NUMERIC(15,4),
  DAYENERGY    NUMERIC(15,4),
  CONSTRAINT PK_LF_HIS_96LC PRIMARY KEY (NETID, CALIBERID, YMD),
  FOREIGN KEY(NETID) REFERENCES LF_CTRL_NET(NETID),
  FOREIGN KEY(CALIBERID) REFERENCES LF_CTRL_CALIBER(CALIBERID)
);

--96点上报预测负荷表（去除了FCNO、USERID）
--DAYENERGY:'日电量'
CREATE TABLE IF NOT EXISTS ST_FC_96LC_SUBMIT (
  NETID      VARCHAR(20) not null,
  CALIBERID  VARCHAR(10) not null,
  YMD        VARCHAR(8) not null,
  T0000      NUMERIC(15,4),
  T0015      NUMERIC(15,4),
  T0030      NUMERIC(15,4),
  T0045      NUMERIC(15,4),
  T0100      NUMERIC(15,4),
  T0115      NUMERIC(15,4),
  T0130      NUMERIC(15,4),
  T0145      NUMERIC(15,4),
  T0200      NUMERIC(15,4),
  T0215      NUMERIC(15,4),
  T0230      NUMERIC(15,4),
  T0245      NUMERIC(15,4),
  T0300      NUMERIC(15,4),
  T0315      NUMERIC(15,4),
  T0330      NUMERIC(15,4),
  T0345      NUMERIC(15,4),
  T0400      NUMERIC(15,4),
  T0415      NUMERIC(15,4),
  T0430      NUMERIC(15,4),
  T0445      NUMERIC(15,4),
  T0500      NUMERIC(15,4),
  T0515      NUMERIC(15,4),
  T0530      NUMERIC(15,4),
  T0545      NUMERIC(15,4),
  T0600      NUMERIC(15,4),
  T0615      NUMERIC(15,4),
  T0630      NUMERIC(15,4),
  T0645      NUMERIC(15,4),
  T0700      NUMERIC(15,4),
  T0715      NUMERIC(15,4),
  T0730      NUMERIC(15,4),
  T0745      NUMERIC(15,4),
  T0800      NUMERIC(15,4),
  T0815      NUMERIC(15,4),
  T0830      NUMERIC(15,4),
  T0845      NUMERIC(15,4),
  T0900      NUMERIC(15,4),
  T0915      NUMERIC(15,4),
  T0930      NUMERIC(15,4),
  T0945      NUMERIC(15,4),
  T1000      NUMERIC(15,4),
  T1015      NUMERIC(15,4),
  T1030      NUMERIC(15,4),
  T1045      NUMERIC(15,4),
  T1100      NUMERIC(15,4),
  T1115      NUMERIC(15,4),
  T1130      NUMERIC(15,4),
  T1145      NUMERIC(15,4),
  T1200      NUMERIC(15,4),
  T1215      NUMERIC(15,4),
  T1230      NUMERIC(15,4),
  T1245      NUMERIC(15,4),
  T1300      NUMERIC(15,4),
  T1315      NUMERIC(15,4),
  T1330      NUMERIC(15,4),
  T1345      NUMERIC(15,4),
  T1400      NUMERIC(15,4),
  T1415      NUMERIC(15,4),
  T1430      NUMERIC(15,4),
  T1445      NUMERIC(15,4),
  T1500      NUMERIC(15,4),
  T1515      NUMERIC(15,4),
  T1530      NUMERIC(15,4),
  T1545      NUMERIC(15,4),
  T1600      NUMERIC(15,4),
  T1615      NUMERIC(15,4),
  T1630      NUMERIC(15,4),
  T1645      NUMERIC(15,4),
  T1700      NUMERIC(15,4),
  T1715      NUMERIC(15,4),
  T1730      NUMERIC(15,4),
  T1745      NUMERIC(15,4),
  T1800      NUMERIC(15,4),
  T1815      NUMERIC(15,4),
  T1830      NUMERIC(15,4),
  T1845      NUMERIC(15,4),
  T1900      NUMERIC(15,4),
  T1915      NUMERIC(15,4),
  T1930      NUMERIC(15,4),
  T1945      NUMERIC(15,4),
  T2000      NUMERIC(15,4),
  T2015      NUMERIC(15,4),
  T2030      NUMERIC(15,4),
  T2045      NUMERIC(15,4),
  T2100      NUMERIC(15,4),
  T2115      NUMERIC(15,4),
  T2130      NUMERIC(15,4),
  T2145      NUMERIC(15,4),
  T2200      NUMERIC(15,4),
  T2215      NUMERIC(15,4),
  T2230      NUMERIC(15,4),
  T2245      NUMERIC(15,4),
  T2300      NUMERIC(15,4),
  T2315      NUMERIC(15,4),
  T2330      NUMERIC(15,4),
  T2345      NUMERIC(15,4),
  T2400      NUMERIC(15,4),
  DAYENERGY  NUMERIC(15,4),
  SUBMITTIME DATE,
  CONSTRAINT PK_ST_FC_96LC_SUBMIT PRIMARY KEY (NETID, CALIBERID, YMD),
  FOREIGN KEY(NETID) REFERENCES LF_CTRL_NET(NETID),
  FOREIGN KEY(CALIBERID) REFERENCES LF_CTRL_CALIBER(CALIBERID)
);

--相关因素信息表
--FACTORID:'相关因素ID',FACTORNAME:'相关因素名称',UNIT:'相关因量纲',ISLINEAR:'是否为线性值'
CREATE TABLE IF NOT EXISTS ST_FACTOR (
  FACTORID   VARCHAR(4) PRIMARY KEY,
  FACTORNAME VARCHAR(50) not null,
  UNIT       VARCHAR(50),
  ISLINEAR   VARCHAR(1),
  TYPEID 	 VARCHAR(10),
  ORDERBY    INTEGER
);

-- 相关因素映射库信息
--FACTORID:'相关因素ID',BEFOREVALUE:'映射前值',ITEMNAME:'中文名称'
CREATE TABLE IF NOT EXISTS ST_FACTOR_MAPLIB (
  FACTORID    VARCHAR(4) not null,
  BEFOREVALUE NUMERIC(15,3) not null,
  ITEMNAME    VARCHAR(50) not null,
  CONSTRAINT PK_ST_FACTOR_MAPLIB PRIMARY KEY (FACTORID, BEFOREVALUE, ITEMNAME),
  FOREIGN KEY(FACTORID) REFERENCES ST_FACTOR(FACTORID)
);

--历史相关因素表
--FACTORID:'相关因素ID',NETID:'电网ID',YMD:'日期',BEFOREVALUE:'相关因素值'
CREATE TABLE IF NOT EXISTS ST_HIS_FACTOR (
  FACTORID    VARCHAR(10) not null,
  NETID       VARCHAR(20) not null,
  YMD         VARCHAR(8) not null,
  BEFOREVALUE NUMERIC(15,3),
  CONSTRAINT PK_ST_FACTOR_MAPLIB PRIMARY KEY (NETID, FACTORID, YMD),
  FOREIGN KEY(NETID) REFERENCES LF_CTRL_NET(NETID),
  FOREIGN KEY(FACTORID) REFERENCES ST_FACTOR(FACTORID)
);
